{"remainingRequest":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\src\\components\\page\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\src\\components\\page\\Dashboard.vue","mtime":1703794816690},{"path":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1703497603234},{"path":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\node_modules\\babel-loader\\lib\\index.js","mtime":1703497598079},{"path":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1703497603234},{"path":"F:\\ProgrammeTraining\\vue\\vue-manage-system-4.2.0\\vue-HQstudySystem\\node_modules\\vue-loader\\lib\\index.js","mtime":1703497601623}],"contextDependencies":[],"result":["\r\nexport default {\r\n    name: 'dashboard',\r\n    data() {\r\n        return {\r\n            courseData: [\r\n                // 示例数据\r\n                { courseName: \"JavaEE\", instructor: \"马芸\", description: \"JavaEE狗都不学\", attendanceRate: \"95%\", score: 88 },\r\n                { courseName: \"MySQL\", instructor: \"马桦藤\", description: \"MySQL，认准最垃圾的数据库\", attendanceRate: \"90%\", score: 92 },\r\n                { courseName: \"Vue.js\", instructor: \"贾玥婷\", description: \"Vue.js，很好的框架，爱来自中国\", attendanceRate: \"93%\", score: 85 },\r\n                { courseName: \"React.js\", instructor: \"罗泳昊\", description: \"React框架基础与应用\", attendanceRate: \"88%\", score: 90 },\r\n                { courseName: \"Go\", instructor: \"马斯克\", description: \"Go语言基础，唯一真神\", attendanceRate: \"96%\", score: 95 }\r\n            ],\r\n            options: [\r\n                {\r\n                    value: 1,\r\n                    label: 1,\r\n                },\r\n                {\r\n                    value: 2,\r\n                    label: 2,\r\n                },\r\n                {\r\n                    value: 3,\r\n                    label: 3,\r\n                },\r\n                {\r\n                    value: 4,\r\n                    label: 4,\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: 5,\r\n                },\r\n                {\r\n                    value: 6,\r\n                    label: 6,\r\n                },\r\n                {\r\n                    value: 7,\r\n                    label: 7,\r\n                },\r\n                {\r\n                    value: 8,\r\n                    label: 8,\r\n                },\r\n                {\r\n                    value: 9,\r\n                    label: 9,\r\n                },\r\n                {\r\n                    value: 10,\r\n                    label: 10,\r\n                },\r\n                {\r\n                    value: 11,\r\n                    label: 11,\r\n                },\r\n                {\r\n                    value: 12,\r\n                    label: 12,\r\n                },\r\n                {\r\n                    value: 13,\r\n                    label: 13,\r\n                },\r\n                {\r\n                    value: 14,\r\n                    label: 14,\r\n                },\r\n                {\r\n                    value: 15,\r\n                    label: 15,\r\n                },\r\n                {\r\n                    value: 16,\r\n                    label: 16,\r\n                },\r\n                {\r\n                    value: 17,\r\n                    label: 17,\r\n                },\r\n                {\r\n                    value: 18,\r\n                    label: 18,\r\n                },\r\n                {\r\n                    value: 19,\r\n                    label: 19,\r\n                },\r\n                {\r\n                    value: 20,\r\n                    label: 20,\r\n                },\r\n            ],\r\n            value: '',\r\n            length: 2,\r\n            afternoonLength: 4,\r\n            timetable: [],\r\n            events: [],\r\n            weeks: ['mon', 'tue', 'wed', 'thu', 'fri'],\r\n            initTable: [],\r\n            temp: [null, null, null, null, null],\r\n            name: localStorage.getItem('ms_username'),\r\n            courseSchedule: {\r\n                '周一': { course: 'Go' },\r\n                '周二': { course: 'JavaEE' },\r\n                '周三': { course: 'MySQL' },\r\n                '周四': { course: 'Vue.js' },\r\n                '周五': { course: 'React.js' }\r\n            },\r\n            todoList: [\r\n                {\r\n                    title: '今天要画完系统用例图',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要画完设计类图',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要完成HQ系统开发',\r\n                    status: true\r\n                },\r\n                {\r\n                    title: '今天要亖了',\r\n                    status: false\r\n                },\r\n\r\n\r\n            ],\r\n\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        role() {\r\n            return \"同学，你好\"\r\n        }\r\n    },\r\n    // created() {\r\n    //     this.handleListener();\r\n    //     this.changeDate();\r\n    // },\r\n    // activated() {\r\n    //     this.handleListener();\r\n    // },\r\n    // deactivated() {\r\n    //     window.removeEventListener('resize', this.renderChart);\r\n    //     bus.$off('collapse', this.handleBus);\r\n    // },\r\n    mounted() {\r\n        this.initializeMockData(); // 使用模拟数据初始化\r\n        this.mergeData();\r\n    },\r\n    created() {\r\n        this.makeTimetable();\r\n        this.initTable = this.timetable;\r\n    },\r\n    methods: {\r\n        onSigninClick() {\r\n            console.log('Card was clicked!');\r\n            this.$message.success('签到成功！');\r\n        },\r\n        onEnrollClick() {\r\n            console.log('Card was clicked!');\r\n            this, this.$router.push({ path: '/enroll' })\r\n        },\r\n        onCommentClick() {\r\n            console.log('Card was clicked!');\r\n            this, this.$router.push({ path: '/comment' })\r\n        },\r\n        // changeDate() {\r\n        //     const now = new Date().getTime();\r\n        //     this.data.forEach((item, index) => {\r\n        //         const date = new Date(now - (6 - index) * 86400000);\r\n        //         item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n        //     });\r\n        // },\r\n        // handleListener() {\r\n        //     bus.$on('collapse', this.handleBus);\r\n        //     // 调用renderChart方法对图表进行重新渲染\r\n        //     window.addEventListener('resize', this.renderChart);\r\n        // },\r\n        // handleBus(msg) {\r\n        //     setTimeout(() => {\r\n        //         this.renderChart();\r\n        //     }, 200);\r\n        // },\r\n        // renderChart() {\r\n        //     this.$refs.bar.renderChart();\r\n        //     this.$refs.line.renderChart();\r\n        // }\r\n        changeValue(val) {\r\n            console.log(val);\r\n            this.value = val;\r\n            this.loadCourseDataForWeek(val);\r\n            // this.initializeMockData(); // 重新初始化模拟数据\r\n            // this.makeTimetable();\r\n            // this.mergeData();\r\n        },\r\n        loadCourseDataForWeek(weekNumber) {\r\n            // 根据选择的周数生成或获取课程数据\r\n            // 这里使用模拟数据作为示例\r\n            this.events = this.generateMockDataForWeek(weekNumber);\r\n\r\n            // 重新构建课程表视图\r\n            this.makeTimetable();\r\n            this.mergeData();\r\n        },\r\n        generateMockDataForWeek(weekNumber) {\r\n            // 根据周数返回不同的模拟数据\r\n            // 这里需要根据实际情况编写逻辑\r\n            if (weekNumber === 1) {\r\n                return [\r\n                    { week: 1, start: 1, end: 1, lessonName: 'JavaEE', place: 'A101', mon: {} },\r\n                    { week: 1, start: 2, end: 2, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 1, start: 2, end: 2, lessonName: 'Go', place: 'B201', thu: {} },\r\n\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            } else if (weekNumber === 2) {\r\n                return [\r\n                    { week: 2, start: 1, end: 1, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 2, start: 2, end: 2, lessonName: 'React', place: 'B201', fri: {} },\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            }\r\n            else if (weekNumber === 3) {\r\n                return [\r\n                    { week: 3, start: 1, end: 1, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 3, start: 1, end: 1, lessonName: 'MySQL', place: 'B201', thu: {} },\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            }\r\n            // ...根据需要添加更多周数的数据\r\n        },\r\n        initializeMockData() {\r\n            // 示例模拟数据\r\n            this.events = [\r\n                { week: 1, start: 1, end: 1, lessonName: 'JavaEE', place: 'A101', mon: {} },\r\n                { week: 1, start: 2, end: 2, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                { week: 1, start: 2, end: 2, lessonName: 'Go', place: 'B201', thu: {} },\r\n\r\n                // ...更多模拟数据\r\n            ];\r\n        },\r\n        // 单元格添加背景色\r\n        tableCellStyle({ row, column, rowIndex, columnIndex }) {\r\n            if (column.property && row[column.property].lessonName !== undefined) {\r\n                const lessonName = row[column.property].lessonName;\r\n                let backgroundColor = 'white'; // 默认背景色\r\n                switch (lessonName) {\r\n                    case 'JavaEE':\r\n                        backgroundColor = 'rgb(255,88,88)'; // 例如，红色\r\n                        break;\r\n                    case 'React':\r\n                        backgroundColor = 'rgb(245,166,35)'; // 例如，蓝色\r\n                        break;\r\n                    case 'Vue':\r\n                        backgroundColor = 'rgb(42,199,102)'; // 例如，绿色\r\n                        break;\r\n                    case 'MySQL':\r\n                        backgroundColor = 'rgb(74,144,226)'; // 例如，橙色\r\n                        break;\r\n                    case 'Go':\r\n                        backgroundColor = 'rgb(94,100,255)'; // 例如，紫色\r\n                        break;\r\n                    default:\r\n                        backgroundColor = 'white'; // 未知课程或其他情况\r\n                }\r\n                return {\r\n                    'background-color': backgroundColor,\r\n                    'color': '#fff',\r\n                    'border-radius': '10px'\r\n                };\r\n            }\r\n        },\r\n        // 构造课程表完整数据\r\n        makeTimetable() {\r\n            this.timetable = []\r\n            for (let i = 0; i < this.length; i++) {\r\n                let one = {\r\n                    sjd: i === 0 ? '上午' : (i === 1 ? '下午' : '晚上'),\r\n                    mon: {},\r\n                    tue: {},\r\n                    wed: {},\r\n                    thu: {},\r\n                    fri: {}\r\n                };\r\n                this.timetable.push(one);\r\n            }\r\n        },\r\n        mergeData() {\r\n\r\n            console.log(this.events);\r\n\r\n            // 合并数据\r\n            if (this.events.length > 0) {\r\n                for (let i = 0; i < this.events.length; i++) {\r\n                    // 获取星期几\r\n                    let week = this.weeks[this.events[i].week - 1]\r\n                    this.timetable[this.events[i].start - 1][week] = this.events[i]\r\n                }\r\n            }\r\n        },\r\n        objectSpanMethod({ row, column, rowIndex, columnIndex }) {\r\n\r\n            if (columnIndex >= 2 && row[this.weeks[columnIndex - 2]].lessonName !== undefined) {\r\n                return {\r\n                    rowspan: 1,\r\n                    colspan: 1\r\n                };\r\n            }\r\n            return {\r\n                rowspan: 1,\r\n                colspan: 1\r\n            };\r\n        }\r\n\r\n    }\r\n};\r\n",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";AAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Dashboard.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:252px;\">\r\n                    <div class=\"user-info\">\r\n                        <img src=\"../../assets/img/img.jpg\" class=\"user-avator\" alt />\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">{{ name }}</div>\r\n                            <div>{{ role }}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        上次登录Time：\r\n                        <span>2023-12-29</span>\r\n                    </div>\r\n                    <div class=\"user-info-list\">\r\n                        上次登录Site：\r\n                        <span>哈尔滨</span>\r\n                    </div>\r\n                </el-card>\r\n                <el-card shadow=\"hover\" style=\"height:252px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>待办事项</span>\r\n                        <el-button style=\"float: right; padding: 3px 0\" type=\"text\">添加</el-button>\r\n                    </div>\r\n                    <el-table :show-header=\"false\" :data=\"todoList\" style=\"width:100%;\">\r\n                        <el-table-column width=\"40\">\r\n                            <template slot-scope=\"scope\">\r\n                                <el-checkbox v-model=\"scope.row.status\"></el-checkbox>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\" :class=\"{ 'todo-item-del': scope.row.status }\">{{ scope.row.title }}\r\n                                </div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column width=\"60\">\r\n                            <template>\r\n                                <i class=\"el-icon-edit\"></i>\r\n                                <i class=\"el-icon-delete\"></i>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" @click.native=\"onSigninClick()\" :body-style=\"{ padding: '0px' }\">\r\n                            <div class=\"grid-content grid-con-1\">\r\n                                <i class=\"el-icon-lx-roundcheck grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">签到</div>\r\n                                    <div>课前打卡</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" @click.native=\"onEnrollClick()\" :body-style=\"{ padding: '0px' }\">\r\n                            <div class=\"grid-content grid-con-2\">\r\n                                <i class=\"el-icon-document-add grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">报名</div>\r\n                                    <div>选择课程</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"8\">\r\n                        <el-card shadow=\"hover\" @click.native=\"onCommentClick()\" :body-style=\"{ padding: '0px' }\">\r\n                            <div class=\"grid-content grid-con-3\">\r\n                                <i class=\"el-icon-lx-comment grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">评价</div>\r\n                                    <div>提出意见</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-card shadow=\"hover\" style=\"height:403px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>课程安排</span>\r\n\r\n                    </div>\r\n                    <span>\r\n                        当前,第\r\n                        <el-select @change=\"changeValue\" v-model=\"value\" placeholder=\"1\" class=\"m-2\" size=\"small\">\r\n                            <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n                        </el-select>\r\n                        周\r\n                    </span>\r\n                    <el-divider />\r\n                    <el-table :data=\"timetable\" :span-method=\"objectSpanMethod\" border\r\n                        :header-cell-style=\"{ background: '#d9e5fd', color: 'black', fontWeight: 1000 }\"\r\n                        :cell-style=\"tableCellStyle\" style=\"overflow-x:hidden\">\r\n                        <el-table-column prop=\"sjd\" label=\"时间段\" width=\"120\" align=\"center\">\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"mon\" label=\"星期一\" align=\"center\">\r\n                            <template #default=\"scope\">\r\n                                <h4>{{ scope.row.mon.lessonName }}</h4>\r\n                                <div v-html=\"scope.row.mon.place\"></div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"tue\" label=\"星期二\" align=\"center\">\r\n                            <template #default=\"scope\">\r\n                                <h4>{{ scope.row.tue.lessonName }}</h4>\r\n                                <div v-html=\"scope.row.tue.place\"></div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"wed\" label=\"星期三\" align=\"center\">\r\n                            <template #default=\"scope\">\r\n                                <h4>{{ scope.row.wed.lessonName }}</h4>\r\n                                <div v-html=\"scope.row.wed.place\"></div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"thu\" label=\"星期四\" align=\"center\">\r\n                            <template #default=\"scope\">\r\n                                <h4>{{ scope.row.thu.lessonName }}</h4>\r\n                                <div v-html=\"scope.row.thu.place\"></div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column prop=\"fri\" label=\"星期五\" align=\"center\">\r\n                            <template #default=\"scope\">\r\n                                <h4>{{ scope.row.fri.lessonName }}</h4>\r\n                                <div v-html=\"scope.row.fri.place\"></div>\r\n                            </template>\r\n                        </el-table-column>\r\n\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"24\">\r\n                <el-card class=\"course-table-card\">\r\n                    <el-table :data=\"courseData\" stripe style=\"width: 100%\">\r\n                        <el-table-column prop=\"courseName\" label=\"课程名称\" width=\"180\"></el-table-column>\r\n                        <el-table-column prop=\"instructor\" label=\"授课教师\" width=\"180\"></el-table-column>\r\n                        <el-table-column prop=\"description\" label=\"课程简介\"></el-table-column>\r\n                        <el-table-column prop=\"attendanceRate\" label=\"签到率\" width=\"100\"></el-table-column>\r\n                        <el-table-column prop=\"score\" label=\"分数\" width=\"100\"></el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'dashboard',\r\n    data() {\r\n        return {\r\n            courseData: [\r\n                // 示例数据\r\n                { courseName: \"JavaEE\", instructor: \"马芸\", description: \"JavaEE狗都不学\", attendanceRate: \"95%\", score: 88 },\r\n                { courseName: \"MySQL\", instructor: \"马桦藤\", description: \"MySQL，认准最垃圾的数据库\", attendanceRate: \"90%\", score: 92 },\r\n                { courseName: \"Vue.js\", instructor: \"贾玥婷\", description: \"Vue.js，很好的框架，爱来自中国\", attendanceRate: \"93%\", score: 85 },\r\n                { courseName: \"React.js\", instructor: \"罗泳昊\", description: \"React框架基础与应用\", attendanceRate: \"88%\", score: 90 },\r\n                { courseName: \"Go\", instructor: \"马斯克\", description: \"Go语言基础，唯一真神\", attendanceRate: \"96%\", score: 95 }\r\n            ],\r\n            options: [\r\n                {\r\n                    value: 1,\r\n                    label: 1,\r\n                },\r\n                {\r\n                    value: 2,\r\n                    label: 2,\r\n                },\r\n                {\r\n                    value: 3,\r\n                    label: 3,\r\n                },\r\n                {\r\n                    value: 4,\r\n                    label: 4,\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: 5,\r\n                },\r\n                {\r\n                    value: 6,\r\n                    label: 6,\r\n                },\r\n                {\r\n                    value: 7,\r\n                    label: 7,\r\n                },\r\n                {\r\n                    value: 8,\r\n                    label: 8,\r\n                },\r\n                {\r\n                    value: 9,\r\n                    label: 9,\r\n                },\r\n                {\r\n                    value: 10,\r\n                    label: 10,\r\n                },\r\n                {\r\n                    value: 11,\r\n                    label: 11,\r\n                },\r\n                {\r\n                    value: 12,\r\n                    label: 12,\r\n                },\r\n                {\r\n                    value: 13,\r\n                    label: 13,\r\n                },\r\n                {\r\n                    value: 14,\r\n                    label: 14,\r\n                },\r\n                {\r\n                    value: 15,\r\n                    label: 15,\r\n                },\r\n                {\r\n                    value: 16,\r\n                    label: 16,\r\n                },\r\n                {\r\n                    value: 17,\r\n                    label: 17,\r\n                },\r\n                {\r\n                    value: 18,\r\n                    label: 18,\r\n                },\r\n                {\r\n                    value: 19,\r\n                    label: 19,\r\n                },\r\n                {\r\n                    value: 20,\r\n                    label: 20,\r\n                },\r\n            ],\r\n            value: '',\r\n            length: 2,\r\n            afternoonLength: 4,\r\n            timetable: [],\r\n            events: [],\r\n            weeks: ['mon', 'tue', 'wed', 'thu', 'fri'],\r\n            initTable: [],\r\n            temp: [null, null, null, null, null],\r\n            name: localStorage.getItem('ms_username'),\r\n            courseSchedule: {\r\n                '周一': { course: 'Go' },\r\n                '周二': { course: 'JavaEE' },\r\n                '周三': { course: 'MySQL' },\r\n                '周四': { course: 'Vue.js' },\r\n                '周五': { course: 'React.js' }\r\n            },\r\n            todoList: [\r\n                {\r\n                    title: '今天要画完系统用例图',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要画完设计类图',\r\n                    status: false\r\n                },\r\n                {\r\n                    title: '今天要完成HQ系统开发',\r\n                    status: true\r\n                },\r\n                {\r\n                    title: '今天要亖了',\r\n                    status: false\r\n                },\r\n\r\n\r\n            ],\r\n\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        role() {\r\n            return \"同学，你好\"\r\n        }\r\n    },\r\n    // created() {\r\n    //     this.handleListener();\r\n    //     this.changeDate();\r\n    // },\r\n    // activated() {\r\n    //     this.handleListener();\r\n    // },\r\n    // deactivated() {\r\n    //     window.removeEventListener('resize', this.renderChart);\r\n    //     bus.$off('collapse', this.handleBus);\r\n    // },\r\n    mounted() {\r\n        this.initializeMockData(); // 使用模拟数据初始化\r\n        this.mergeData();\r\n    },\r\n    created() {\r\n        this.makeTimetable();\r\n        this.initTable = this.timetable;\r\n    },\r\n    methods: {\r\n        onSigninClick() {\r\n            console.log('Card was clicked!');\r\n            this.$message.success('签到成功！');\r\n        },\r\n        onEnrollClick() {\r\n            console.log('Card was clicked!');\r\n            this, this.$router.push({ path: '/enroll' })\r\n        },\r\n        onCommentClick() {\r\n            console.log('Card was clicked!');\r\n            this, this.$router.push({ path: '/comment' })\r\n        },\r\n        // changeDate() {\r\n        //     const now = new Date().getTime();\r\n        //     this.data.forEach((item, index) => {\r\n        //         const date = new Date(now - (6 - index) * 86400000);\r\n        //         item.name = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\r\n        //     });\r\n        // },\r\n        // handleListener() {\r\n        //     bus.$on('collapse', this.handleBus);\r\n        //     // 调用renderChart方法对图表进行重新渲染\r\n        //     window.addEventListener('resize', this.renderChart);\r\n        // },\r\n        // handleBus(msg) {\r\n        //     setTimeout(() => {\r\n        //         this.renderChart();\r\n        //     }, 200);\r\n        // },\r\n        // renderChart() {\r\n        //     this.$refs.bar.renderChart();\r\n        //     this.$refs.line.renderChart();\r\n        // }\r\n        changeValue(val) {\r\n            console.log(val);\r\n            this.value = val;\r\n            this.loadCourseDataForWeek(val);\r\n            // this.initializeMockData(); // 重新初始化模拟数据\r\n            // this.makeTimetable();\r\n            // this.mergeData();\r\n        },\r\n        loadCourseDataForWeek(weekNumber) {\r\n            // 根据选择的周数生成或获取课程数据\r\n            // 这里使用模拟数据作为示例\r\n            this.events = this.generateMockDataForWeek(weekNumber);\r\n\r\n            // 重新构建课程表视图\r\n            this.makeTimetable();\r\n            this.mergeData();\r\n        },\r\n        generateMockDataForWeek(weekNumber) {\r\n            // 根据周数返回不同的模拟数据\r\n            // 这里需要根据实际情况编写逻辑\r\n            if (weekNumber === 1) {\r\n                return [\r\n                    { week: 1, start: 1, end: 1, lessonName: 'JavaEE', place: 'A101', mon: {} },\r\n                    { week: 1, start: 2, end: 2, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 1, start: 2, end: 2, lessonName: 'Go', place: 'B201', thu: {} },\r\n\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            } else if (weekNumber === 2) {\r\n                return [\r\n                    { week: 2, start: 1, end: 1, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 2, start: 2, end: 2, lessonName: 'React', place: 'B201', fri: {} },\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            }\r\n            else if (weekNumber === 3) {\r\n                return [\r\n                    { week: 3, start: 1, end: 1, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                    { week: 3, start: 1, end: 1, lessonName: 'MySQL', place: 'B201', thu: {} },\r\n\r\n                    // ...其他课程数据\r\n                ];\r\n            }\r\n            // ...根据需要添加更多周数的数据\r\n        },\r\n        initializeMockData() {\r\n            // 示例模拟数据\r\n            this.events = [\r\n                { week: 1, start: 1, end: 1, lessonName: 'JavaEE', place: 'A101', mon: {} },\r\n                { week: 1, start: 2, end: 2, lessonName: 'Vue', place: 'B201', tue: {} },\r\n                { week: 1, start: 2, end: 2, lessonName: 'Go', place: 'B201', thu: {} },\r\n\r\n                // ...更多模拟数据\r\n            ];\r\n        },\r\n        // 单元格添加背景色\r\n        tableCellStyle({ row, column, rowIndex, columnIndex }) {\r\n            if (column.property && row[column.property].lessonName !== undefined) {\r\n                const lessonName = row[column.property].lessonName;\r\n                let backgroundColor = 'white'; // 默认背景色\r\n                switch (lessonName) {\r\n                    case 'JavaEE':\r\n                        backgroundColor = 'rgb(255,88,88)'; // 例如，红色\r\n                        break;\r\n                    case 'React':\r\n                        backgroundColor = 'rgb(245,166,35)'; // 例如，蓝色\r\n                        break;\r\n                    case 'Vue':\r\n                        backgroundColor = 'rgb(42,199,102)'; // 例如，绿色\r\n                        break;\r\n                    case 'MySQL':\r\n                        backgroundColor = 'rgb(74,144,226)'; // 例如，橙色\r\n                        break;\r\n                    case 'Go':\r\n                        backgroundColor = 'rgb(94,100,255)'; // 例如，紫色\r\n                        break;\r\n                    default:\r\n                        backgroundColor = 'white'; // 未知课程或其他情况\r\n                }\r\n                return {\r\n                    'background-color': backgroundColor,\r\n                    'color': '#fff',\r\n                    'border-radius': '10px'\r\n                };\r\n            }\r\n        },\r\n        // 构造课程表完整数据\r\n        makeTimetable() {\r\n            this.timetable = []\r\n            for (let i = 0; i < this.length; i++) {\r\n                let one = {\r\n                    sjd: i === 0 ? '上午' : (i === 1 ? '下午' : '晚上'),\r\n                    mon: {},\r\n                    tue: {},\r\n                    wed: {},\r\n                    thu: {},\r\n                    fri: {}\r\n                };\r\n                this.timetable.push(one);\r\n            }\r\n        },\r\n        mergeData() {\r\n\r\n            console.log(this.events);\r\n\r\n            // 合并数据\r\n            if (this.events.length > 0) {\r\n                for (let i = 0; i < this.events.length; i++) {\r\n                    // 获取星期几\r\n                    let week = this.weeks[this.events[i].week - 1]\r\n                    this.timetable[this.events[i].start - 1][week] = this.events[i]\r\n                }\r\n            }\r\n        },\r\n        objectSpanMethod({ row, column, rowIndex, columnIndex }) {\r\n\r\n            if (columnIndex >= 2 && row[this.weeks[columnIndex - 2]].lessonName !== undefined) {\r\n                return {\r\n                    rowspan: 1,\r\n                    colspan: 1\r\n                };\r\n            }\r\n            return {\r\n                rowspan: 1,\r\n                colspan: 1\r\n            };\r\n        }\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.course-table {\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 100px;\r\n    height: 100px;\r\n    text-align: center;\r\n    line-height: 100px;\r\n    color: #fff;\r\n}\r\n\r\n.grid-con-1 .grid-con-icon {\r\n    background: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-1 .grid-num {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.grid-con-2 .grid-con-icon {\r\n    background: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-2 .grid-num {\r\n    color: rgb(100, 213, 114);\r\n}\r\n\r\n.grid-con-3 .grid-con-icon {\r\n    background: rgb(242, 94, 67);\r\n}\r\n\r\n.grid-con-3 .grid-num {\r\n    color: rgb(242, 94, 67);\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.todo-item {\r\n    font-size: 14px;\r\n\r\n}\r\n\r\n.todo-item-del {\r\n    text-decoration: line-through;\r\n    color: #999;\r\n\r\n}\r\n\r\n.schart {\r\n    width: 100%;\r\n    height: 300px;\r\n}\r\n\r\n.el-select {\r\n    width: 60px;\r\n}\r\n</style>\r\n"]}]}